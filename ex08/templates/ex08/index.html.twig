{# templates/ex08/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Ex08 - SQL Advanced (Relations){% endblock %}

{% block body %}
    <h1>Ex08 - SQL : Relations & Altérations de tables</h1>

    {# Messages flash #}
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }}">{{ message }}</div>
        {% endfor %}
    {% endfor %}

    <div class="actions">
        <form method="post" action="{{ path('ex08_create_persons') }}" style="display:inline;">
            <button type="submit">Créer la table <b>persons</b></button>
        </form>

        <form method="post" action="{{ path('ex08_create_bank_accounts') }}" style="display:inline;">
            <button type="submit">Créer la table <b>bank_accounts</b></button>
        </form>

        <form method="post" action="{{ path('ex08_create_addresses') }}" style="display:inline;">
            <button type="submit">Créer la table <b>addresses</b></button>
        </form>

        <form method="post" action="{{ path('ex08_add_marital_status') }}" style="display:inline;">
            <button type="submit">Ajouter la colonne <b>marital_status</b> à persons</button>
        </form>

        <form method="post" action="{{ path('ex08_relation_bank_account') }}" style="display:inline;">
            <button type="submit">Créer la relation <b>persons &lt;-> bank_accounts</b></button>
        </form>

        <form method="post" action="{{ path('ex08_relation_address') }}" style="display:inline;">
            <button type="submit">Créer la relation <b>persons &lt;-> addresses</b></button>
        </form>
    </div>

    <hr>
    <p>
        <small>
            Chacune de ces actions affiche un message de succès ou d’erreur.<br>
            Si la table/colonne/relation existe déjà, tu auras un message d’info.<br>
            Les boutons effectuent des requêtes <b>POST</b> conformément aux consignes.<br>
        </small>
    </p>
{% endblock %}

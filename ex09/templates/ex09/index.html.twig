{% extends 'base.html.twig' %}

{% block title %}Ex09 - Gestion des tables et migration{% endblock %}

{% block body %}
<h1>Ex09 - Gestion des tables et migration</h1>

{# Affichage des messages flash #}
{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{ label }}">
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}

<form action="{{ path('ex09_drop_tables') }}" method="post" style="margin-bottom: 1em;">
    <button type="submit" class="btn btn-danger" onclick="return confirm('Confirmer la suppression de toutes les tables ?')">
        Supprimer toutes les tables
    </button>
</form>

<form action="{{ path('ex09_migrate') }}" method="post" style="margin-bottom: 1em;">
    <button type="submit" class="btn btn-primary">
        Lancer les migrations (création des tables)
    </button>
</form>

<form action="{{ path('ex09_update_schema') }}" method="post" style="margin-bottom: 1em;">
    <button type="submit" class="btn btn-warning">
        Mettre à jour le schéma (ajout marital_status)
    </button>
</form>
{% endblock %}